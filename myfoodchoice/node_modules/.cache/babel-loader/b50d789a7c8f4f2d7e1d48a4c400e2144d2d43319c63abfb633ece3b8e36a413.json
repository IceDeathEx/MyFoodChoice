{"ast":null,"code":"'use strict';\n\nconst net = require('net');\nconst EventEmitter = require('events').EventEmitter;\nconst Connection = require('./connection');\nconst ConnectionConfig = require('./connection_config');\n\n// TODO: inherit Server from net.Server\nclass Server extends EventEmitter {\n  constructor() {\n    super();\n    this.connections = [];\n    this._server = net.createServer(this._handleConnection.bind(this));\n  }\n  _handleConnection(socket) {\n    const connectionConfig = new ConnectionConfig({\n      stream: socket,\n      isServer: true\n    });\n    const connection = new Connection({\n      config: connectionConfig\n    });\n    this.emit('connection', connection);\n  }\n  listen(port) {\n    this._port = port;\n    this._server.listen.apply(this._server, arguments);\n    return this;\n  }\n  close(cb) {\n    this._server.close(cb);\n  }\n}\nmodule.exports = Server;","map":{"version":3,"names":["net","require","EventEmitter","Connection","ConnectionConfig","Server","constructor","connections","_server","createServer","_handleConnection","bind","socket","connectionConfig","stream","isServer","connection","config","emit","listen","port","_port","apply","arguments","close","cb","module","exports"],"sources":["D:/UOW_FYP/FYP1/myfoodchoice/node_modules/mysql2/lib/server.js"],"sourcesContent":["'use strict';\n\nconst net = require('net');\nconst EventEmitter = require('events').EventEmitter;\n\nconst Connection = require('./connection');\nconst ConnectionConfig = require('./connection_config');\n\n// TODO: inherit Server from net.Server\nclass Server extends EventEmitter {\n  constructor() {\n    super();\n    this.connections = [];\n    this._server = net.createServer(this._handleConnection.bind(this));\n  }\n\n  _handleConnection(socket) {\n    const connectionConfig = new ConnectionConfig({\n      stream: socket,\n      isServer: true\n    });\n    const connection = new Connection({ config: connectionConfig });\n    this.emit('connection', connection);\n  }\n\n  listen(port) {\n    this._port = port;\n    this._server.listen.apply(this._server, arguments);\n    return this;\n  }\n\n  close(cb) {\n    this._server.close(cb);\n  }\n}\n\nmodule.exports = Server;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAMC,YAAY,GAAGD,OAAO,CAAC,QAAQ,CAAC,CAACC,YAAY;AAEnD,MAAMC,UAAU,GAAGF,OAAO,CAAC,cAAc,CAAC;AAC1C,MAAMG,gBAAgB,GAAGH,OAAO,CAAC,qBAAqB,CAAC;;AAEvD;AACA,MAAMI,MAAM,SAASH,YAAY,CAAC;EAChCI,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IACP,IAAI,CAACC,WAAW,GAAG,EAAE;IACrB,IAAI,CAACC,OAAO,GAAGR,GAAG,CAACS,YAAY,CAAC,IAAI,CAACC,iBAAiB,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EACpE;EAEAD,iBAAiBA,CAACE,MAAM,EAAE;IACxB,MAAMC,gBAAgB,GAAG,IAAIT,gBAAgB,CAAC;MAC5CU,MAAM,EAAEF,MAAM;MACdG,QAAQ,EAAE;IACZ,CAAC,CAAC;IACF,MAAMC,UAAU,GAAG,IAAIb,UAAU,CAAC;MAAEc,MAAM,EAAEJ;IAAiB,CAAC,CAAC;IAC/D,IAAI,CAACK,IAAI,CAAC,YAAY,EAAEF,UAAU,CAAC;EACrC;EAEAG,MAAMA,CAACC,IAAI,EAAE;IACX,IAAI,CAACC,KAAK,GAAGD,IAAI;IACjB,IAAI,CAACZ,OAAO,CAACW,MAAM,CAACG,KAAK,CAAC,IAAI,CAACd,OAAO,EAAEe,SAAS,CAAC;IAClD,OAAO,IAAI;EACb;EAEAC,KAAKA,CAACC,EAAE,EAAE;IACR,IAAI,CAACjB,OAAO,CAACgB,KAAK,CAACC,EAAE,CAAC;EACxB;AACF;AAEAC,MAAM,CAACC,OAAO,GAAGtB,MAAM"},"metadata":{},"sourceType":"script","externalDependencies":[]}