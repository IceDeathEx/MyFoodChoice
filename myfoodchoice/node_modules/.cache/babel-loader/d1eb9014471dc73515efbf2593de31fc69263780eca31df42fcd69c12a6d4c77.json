{"ast":null,"code":"// Copyright (c) 2021, Oracle and/or its affiliates.\n\n'use strict';\n\nconst Packet = require('../packets/packet');\nclass AuthNextFactor {\n  constructor(opts) {\n    this.pluginName = opts.pluginName;\n    this.pluginData = opts.pluginData;\n  }\n  toPacket(encoding) {\n    const length = 6 + this.pluginName.length + this.pluginData.length;\n    const buffer = Buffer.allocUnsafe(length);\n    const packet = new Packet(0, buffer, 0, length);\n    packet.offset = 4;\n    packet.writeInt8(0x02);\n    packet.writeNullTerminatedString(this.pluginName, encoding);\n    packet.writeBuffer(this.pluginData);\n    return packet;\n  }\n  static fromPacket(packet, encoding) {\n    packet.readInt8(); // marker\n    const name = packet.readNullTerminatedString(encoding);\n    const data = packet.readBuffer();\n    return new AuthNextFactor({\n      pluginName: name,\n      pluginData: data\n    });\n  }\n}\nmodule.exports = AuthNextFactor;","map":{"version":3,"names":["Packet","require","AuthNextFactor","constructor","opts","pluginName","pluginData","toPacket","encoding","length","buffer","Buffer","allocUnsafe","packet","offset","writeInt8","writeNullTerminatedString","writeBuffer","fromPacket","readInt8","name","readNullTerminatedString","data","readBuffer","module","exports"],"sources":["D:/UOW_FYP/FYP1/myfoodchoice/node_modules/mysql2/lib/packets/auth_next_factor.js"],"sourcesContent":["// Copyright (c) 2021, Oracle and/or its affiliates.\n\n'use strict';\n\nconst Packet = require('../packets/packet');\n\nclass AuthNextFactor {\n  constructor(opts) {\n    this.pluginName = opts.pluginName;\n    this.pluginData = opts.pluginData;\n  }\n\n  toPacket(encoding) {\n    const length = 6 + this.pluginName.length + this.pluginData.length;\n    const buffer = Buffer.allocUnsafe(length);\n    const packet = new Packet(0, buffer, 0, length);\n    packet.offset = 4;\n    packet.writeInt8(0x02);\n    packet.writeNullTerminatedString(this.pluginName, encoding);\n    packet.writeBuffer(this.pluginData);\n    return packet;\n  }\n\n  static fromPacket(packet, encoding) {\n    packet.readInt8(); // marker\n    const name = packet.readNullTerminatedString(encoding);\n    const data = packet.readBuffer();\n    return new AuthNextFactor({\n      pluginName: name,\n      pluginData: data\n    });\n  }\n}\n\nmodule.exports = AuthNextFactor;\n"],"mappings":"AAAA;;AAEA,YAAY;;AAEZ,MAAMA,MAAM,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAE3C,MAAMC,cAAc,CAAC;EACnBC,WAAWA,CAACC,IAAI,EAAE;IAChB,IAAI,CAACC,UAAU,GAAGD,IAAI,CAACC,UAAU;IACjC,IAAI,CAACC,UAAU,GAAGF,IAAI,CAACE,UAAU;EACnC;EAEAC,QAAQA,CAACC,QAAQ,EAAE;IACjB,MAAMC,MAAM,GAAG,CAAC,GAAG,IAAI,CAACJ,UAAU,CAACI,MAAM,GAAG,IAAI,CAACH,UAAU,CAACG,MAAM;IAClE,MAAMC,MAAM,GAAGC,MAAM,CAACC,WAAW,CAACH,MAAM,CAAC;IACzC,MAAMI,MAAM,GAAG,IAAIb,MAAM,CAAC,CAAC,EAAEU,MAAM,EAAE,CAAC,EAAED,MAAM,CAAC;IAC/CI,MAAM,CAACC,MAAM,GAAG,CAAC;IACjBD,MAAM,CAACE,SAAS,CAAC,IAAI,CAAC;IACtBF,MAAM,CAACG,yBAAyB,CAAC,IAAI,CAACX,UAAU,EAAEG,QAAQ,CAAC;IAC3DK,MAAM,CAACI,WAAW,CAAC,IAAI,CAACX,UAAU,CAAC;IACnC,OAAOO,MAAM;EACf;EAEA,OAAOK,UAAUA,CAACL,MAAM,EAAEL,QAAQ,EAAE;IAClCK,MAAM,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;IACnB,MAAMC,IAAI,GAAGP,MAAM,CAACQ,wBAAwB,CAACb,QAAQ,CAAC;IACtD,MAAMc,IAAI,GAAGT,MAAM,CAACU,UAAU,CAAC,CAAC;IAChC,OAAO,IAAIrB,cAAc,CAAC;MACxBG,UAAU,EAAEe,IAAI;MAChBd,UAAU,EAAEgB;IACd,CAAC,CAAC;EACJ;AACF;AAEAE,MAAM,CAACC,OAAO,GAAGvB,cAAc"},"metadata":{},"sourceType":"script","externalDependencies":[]}